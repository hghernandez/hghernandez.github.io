---
title: "Compartimos nuestro reporte en un email"
description: |
  En un post anterior mostramos como segmentar nuestros clientes mediante un modelo RFM. En este post voy a mostrar como enviarlo en un correo electrÃ³nico para compartir nuestro reporte con los stakeholder y apoya la toma de decisiones.
preview: imagenes/email_preview.jpg
author:
  - name: Hernan Hernandez
    url: https://example.com/norajones
date: 2022-10-02
output:
  distill::distill_article:
    self_contained: false
---

# IntroducciÃ³n âœ‹ğŸ¼

Sin dudas uno de los puntos mÃ¡s importantes en el mundo del anÃ¡lisis de datos es disponibilizar de forma oportuna y Ã¡gil nuestros reportes a los diversos stakeholder de la organizaciÃ³n.

Existen diversas estrategias, como por ejemplo elaborar un dashboards. En esta ocasiÃ³n voy a mostrar un ejemplo mediante el cuÃ¡l podemos crear un correo electrÃ³nico âœ‰ï¸ con nuestro reporte y enviarlo a los remitentes que nosotros deseemos.

Para ello utilizaremos la libreria ğŸ“š **blastula** junto con **Rmarkdown.**

Estaremos compartiendo el **reporte RFM** que elaboramos en este [post](https://hghernandez.github.io/posts/2022-08-27-analisis-rfm-para-la-segmentacion-de-clientes/).

## Creamos el reporte ğŸ“°

Debemos crear un archivo Rmarkdown con formato de salida output: blastula::blastula_email

```{r eval= FALSE}

title: "RFM_report"
author: "Hernan Hernandez"
date: '2022-10-02'
output: blastula::blastula_email


```

# ğŸ’» Creamos el script para enviar el correo electrÃ³nico

Para este paso usaremos la funciÃ³n **render_email** de blastula indicandole la ubicaciÃ³n de nuestro archivo .rmd

```{r eval=FALSE}

email <- render_email("C:/Users/usuario/Desktop/Reporte_RFM.Rmd")

```

## ğŸ“« Configuramos el correo electrÃ³nico

```{r eval=FALSE}

email %>%
  smtp_send(to = "****",
            from = "****",
            subject = paste0("Reporte RFM",format(lubridate::ymd(Sys.Date()),"%B %Y")),
            credentials = creds_file(file = "gmail_creds"))

```

âš ï¸ Para poder usar blastula debemos tener contraseÃ±a de aplicaciÃ³n de gmail.

# ğŸ‘€ Veamos el reporte

```{r  fig.cap = "Vista de la bandeja de entradas", out.width = "75%", fig.show = "hold", fig.align='center', echo=FALSE}
knitr::include_graphics("vista_email.PNG")

```

```{r  fig.cap = "Vista del cuerpo del email", out.width = "100%", fig.show = "hold", fig.align='center', echo=FALSE}
knitr::include_graphics("body_email2.PNG")

```

# Comentarios finales ğŸ”ˆ

âœ”ï¸ Resulta muy interesante la funcionalidad que nos ofrece **blastula** permitiendo crear un correo electrÃ³nico con **nuestro reporte** directamente desde un archivo Rmarkdown.

âœ”ï¸AdemÃ¡s, aunque no lo abordamos en este ejemplo, admite la utilizaciÃ³n de **parÃ¡metros** los que nos permitirÃ­a crear reportes que segmentan los datos y se envÃ­an a diferentes destinatarios. En este caso podrÃ­amos crear un reporte RFM por paÃ­s y enviarlos a distintos destinatarios.

âœ”ï¸ Sin dudas poder compartir un correo electrÃ³nico con nuestro reporte es una gran **estrategia de comunicaciÃ³n** de datos a los **stakeholder.**
